![SG-1 logo](https://github.com/toschdev/schwifty/raw/main/GOT.png)
# schwifty Chain Information

Contents

* [Status](#status)
* [Chain Data](#chain-data)

## Status

* Timeline
  * 2022-11-28: Spawn time: `2022-11-30T17:00:00.000000000Z`
  * 2022-11-28: Proposal 8 voting period ends
  * 2022-11-24: Proposal 8 goes into voting period
  * 2022-11-24: Genesis file without CCV state is generated

Thank you for pointing out the issues in `prop-8`.  I encourage everyone to vote `no` on prop-8 due to the bad metadata that was found by this great community!  

`prop-9` fixes both the spawntime, and the bad metadata (404 url) in the proposal description. `schwifty` will launch as a consumer chain through a governance proposal in the `provider` chain. Read the [Consumer Chain Start Process](/docs/Consumer-Chain-Start-Process.md) page for more details about the workflow.

The following items will be included in the proposal:
* Genesis file hash
  * The SHA256 is used to verify against the genesis file that the proposer has made available for review.
  * This "fresh" genesis file cannot be used to run the chain: it must be updated with the CCV states after the spawn time is reached.
* Binary hash
* Spawn time
  * Even if the proposal passes, the CCV states will not be available from the provider chain until after the spawn time is reached.

## Chain Data

### Binary

The binary published in this repo is the `schwiftyd` binary built using the `toschdev/schwifty` repo tag [v0.1.0](https://github.com/toschdev/schwifty/releases/tag/v0.1.0). You can generate the binary following the [Get Started section](https://github.com/toschdev/schwifty/tree/v0.1.0#get-started). Docker images are available [here](https://github.com/toschdev/heighliner/pkgs/container/heighliner%2Fschwifty). Check out our [Video](https://youtu.be/npoIZacWxRw?t=1079) on how to build this binary inside Docker to get a checksum match.

### Verify Binary Checksum.
Binary checksums can differ based on many things to include go, libc, and make versions. To get a consistent checksum you can use something like docker to verify.

  * [Linux amd64 build](schwiftyd)
  * Version: `v0.1.0`
  * SHA256: `2a106d62c61894c4b1de9b5ca748b9875b1ead62a3a918ac3d2b0ac0fbbcb56c`

  Example of using a volume mount to get the binary outside of the container onto your ubuntu server.
  ```
  #run on your ubuntu server
  # use the `realpath` for the volume mount.
  docker run -v /home/ubuntu/go/bin:/root/go/bin -it --entrypoint /bin/bash ghcr.io/toschdev/checksum:v.0.1.0
  ```
  ```
  # run inside docker container.
  git clone https://github.com/toschdev/schwifty.git
  cd schwifty
  git fetch
  git checkout v0.1.0
  make install
  sha256sum ~/go/bin/schwiftyd
  ```
  expected return `2a106d62c61894c4b1de9b5ca748b9875b1ead62a3a918ac3d2b0ac0fbbcb56c`  
  
  Now, verify the checksum on your local ubuntu server  
  ```
  #run on your ubuntu server
  sha256sum /home/ubuntu/go/bin/schwiftyd
  ```
  expected return `2a106d62c61894c4b1de9b5ca748b9875b1ead62a3a918ac3d2b0ac0fbbcb56c`  

### Genesis file

**The genesis file for Interchain Security consumer chains must include the CCV (Cross Chain Validation) state generated by the provider chain _after_ the spawn time is reached.**

Final genesis file **with CCV state**: **`pending spawn time`**
- SHA256: `988df79159233ae2707451fcc4d20810b7c2ed16841dcad525ab92b99bfe31b2`
- Validators must replace their `config/genesis.json` file with this one before running the binary.

The genesis file with was generated using the following settings:

* Chain ID: `schwifty-1`
* Denom: `uschwifty`
* Signed blocks window: `"8640"`
* Genesis accounts were added to provide funds for a faucet and a relayer that will be run by the testnet coordinators.
* Genesis file **without CCV state**: [`schwifty-fresh-genesis.json`](schwifty-fresh-genesis.json), SHA256: `07b697e28618c29b234137240ea153aad37810d786727639fff93e02d81cc2e8`
  * **This is provided only for verification, this is not the genesis file validators should be running their nodes with.**

## Endpoints

* **p2p persistent peers : `ec639fefab60700e79d22bcac1be522b2149acab@34.82.58.71:26656,f43dacf4268152a1283b7e9c85c7e9f2a2228aa6@34.145.117.181:26656`**
* These peers represent the `SG-1`validator. We are accepting `250` inbound peeers, but please consider sharing your peers in discord, or create a PR to [`peers.txt`](peers.txt)

* Please keep in mind that any validator that does not come online after 67% of the voting power is up and running, is likely to be slashed for downtime, potentially resulting in being jailed (the `signed_blocks_window` parameter is set to `8640`).

## Join via Bash Script

On the node machine:
- Copy the `node_key.json` and `priv_validator_key.json` files for your validator.
  - **These should be the same ones as the ones from your provider node**.
- Run one of the following scripts:
  - schwifty service: [schwifty-init.sh](schwifty-init.sh)
  - Cosmovisor service: [schwifty-init-cv.sh](schwifty-init-cv.sh)
- Wait until the spawn time is reached and the genesis file with the CCV states is available.
- Overwrite the genesis file with the one that includes the CCV states.
  - The default location is `$HOME/.schwifty/config/genesis.json`.
- Enable and start the service:
  - schwifty
    ```
    sudo systemctl enable schwifty
    sudo systemctl start schwifty
    ```
  - Cosmovisor
    ```
    sudo systemctl enable cv-schwifty
    sudo systemctl start cv-schwifty
    ```
- To follow the log, use:
  - schwifty: `journalctl -fu schwifty`
  - Cosmovisor: `journalctl -fu cv-schwifty`
- If the log does not show up right away, run `systemctl restart systemd-journald`.
